function isEmail(e){return/^([a-zA-Z0-9_.+-])+\@(([a-zA-Z0-9-])+\.)+([a-zA-Z0-9]{2,4})+$/.test(e)}function isPhoneNumberVN(e){var t=!1,n=e.trim();return""!=(n=(n=(n=(n=n.replace("(+84)","0")).replace("+84","0")).replace("0084","0")).replace(/ /g,""))&&("09"!=(e=n.substring(0,2))&&"08"!=e&&"07"!=e&&"05"!=e&&"03"!=e||10!=n.length?"02"==e&&11==n.length&&n.match(/^\d{11}/)&&(t=!0):n.match(/^\d{10}/)&&(t=!0)),t}function visible_cart_respon(){$(".dropdown_cart").css("opacity",1),$(".dropdown_cart").css("visibility","visible"),$(".black-res-screen").css("display","block"),$(".fix1screen").css("display","block")}var typingTimer,ajaxRequest;!function(r){defaults={formDataKey:"files",buttonText:"Add Files",buttonClass:"file-preview-button",shadowClass:"file-preview-shadow",tableCss:"file-preview-table",tableRowClass:"file-preview-row",placeholderClass:"file-preview-placeholder",loadingCss:"file-preview-loading",tableTemplate:function(){return"<table class='table table-striped file-preview-table' id='file-preview-table'><tbody></tbody></table>"},rowTemplate:function(e){return"<tr class='"+config.tableRowClass+"'><td><img src='"+e.src+"' class='"+e.placeholderCssClass+"' /></td><td class='filename'>"+e.name+"</td><td class='filesize'>"+e.size+"</td><td class='remove-file'><button class='btn btn-danger'>&times;</button></td></tr>"},loadingTemplate:function(){return"<div id='file-preview-loading-container'><div id='"+config.loadingCss+"' class='loader-inner ball-clip-rotate-pulse no-show'><div></div><div></div></div></div>"}},"undefined"!=typeof Humanize&&"function"==typeof Humanize.filesize||r.getScript("https://cdnjs.cloudflare.com/ajax/libs/humanize-plus/1.5.0/humanize.min.js"),r.fn.uploadPreviewer=function(n,l){var o=this;n=n||{},config=r.extend({},defaults,n);var d,u,e,p=[];if(window.File&&window.FileReader&&window.FileList&&window.Blob)return this.wrap("<span class='btn btn-primary "+config.shadowClass+"'></span>"),(e=this.parent("."+config.shadowClass)).prepend("<span><i class='fa fa-arrow-alt-circle-up'></i>"+config.buttonText+"</span>"),e.wrap("<span class='"+config.buttonClass+"'></span>"),(e=n.preview_table)||(r("span."+config.buttonClass).after(config.tableTemplate()),e="table."+config.tableCss),(e=r(e)).addClass(config.tableCss),u=e.find("tbody"),d=n.preview_row_template||config.rowTemplate,e.after(config.loadingTemplate()),e.on("click",".remove-file",function(){for(var e=r(this).parent("tr"),t=e.find(".filename").text(),n=0;n<p.length;n++)if(p[n].name==t){p.splice(n,1);break}e.remove(),r.event.trigger({type:"file-preview:changed",files:p})}),this.on("change",function(e){var t,s=r("#"+config.loadingCss);s.show();var c=e.currentTarget.files.length;r.each(e.currentTarget.files,function(o,r){p.push(r),(t=new FileReader).onload=function(e){var t,n,a,i;u&&(t=r.type,t=/image/.test(t)?(n=e.target.result,config.placeholderClass+" image"):(n="",a=t,i=function(){switch(!0){case/video/.test(a):return"video";case/audio/.test(a):return"audio";case/pdf/.test(a):return"pdf";case/csv|excel/.test(a):return"spreadsheet";case/powerpoint/.test(a):return"powerpoint";case/msword|text/.test(a):return"document";case/zip/.test(a):return"zip";case/rar/.test(a):return"rar";default:return"default-filetype"}}(),defaults.placeholderClass+" "+i),i=r.size,i=Humanize.fileSize(i),i=d({src:n,name:r.name,placeholderCssClass:t,size:i}),u.append(i),o==c-1&&s.hide()),l&&l(e)},t.readAsDataURL(r)}),r.event.trigger({type:"file-preview:changed",files:p})}),this.fileList=function(){return p},this.clearFileList=function(){r(".remove-file").click()},this.url=function(e){if(null==e)return config.url;config.url=e},this._onComplete=function(e){e.type="file-preview:submit:complete",r.event.trigger(e)},this.submit=function(a,i){if(null==config.url)throw"Please set the URL to which I shall post the files";var t;0<p.length?(t=new FormData,p.forEach(function(e){t.append(n.formDataKey+"[]",e)}),r.ajax({type:"POST",url:config.url,data:t,contentType:!1,processData:!1,xhr:function(){var e=new window.XMLHttpRequest;return e.upload.addEventListener("progress",function(e){e.lengthComputable&&null!=n&&null!=n.uploadProgress&&"function"==typeof n.uploadProgress&&n.uploadProgress(e.loaded/e.total)},!1),e},success:function(e,t,n){"function"==typeof a&&a(e,t,n),o._onComplete({data:e,status:t,jqXHR:n})},error:function(e,t,n){"function"==typeof i&&i(e,t,n),o._onComplete({error:n,status:t,jqXHR:e})}})):(console.log("There are no selected files, please select at least one file before submitting."),o._onComplete({status:"no-files"}))},this;throw"The File APIs are not fully supported in this browser."}}(jQuery),$(document).ready(function(){$("#feature-product-wp .list-item").owlCarousel({autoPlay:!0,navigation:!0,navigationText:!1,paginationNumbers:!1,pagination:!1,stopOnHover:!0,items:5,itemsDesktop:[1e3,4],itemsDesktopSmall:[800,3],itemsTablet:[600,2],itemsMobile:[375,2]}),$("#slider-wp .section-detail").owlCarousel({autoPlay:4500,navigation:!1,navigationText:!1,paginationNumbers:!1,pagination:!0,items:1,itemsDesktop:[1e3,1],itemsDesktopSmall:[900,1],itemsTablet:[600,1],itemsMobile:!0}),$("#img-customer").owlCarousel({autoPlay:4500,navigation:!0,navigationText:!1,paginationNumbers:!1,pagination:!1,stopOnHover:!0,items:1,itemsDesktop:[1e3,1],itemsDesktopSmall:[900,1],itemsTablet:[600,1],itemsMobile:!0}),$(".js-select2").select2(),$(".ol1").click(function(){$(this).addClass("activebtn"),$(".ol2").removeClass("activebtn"),$("#body-nbox").removeClass("product-horizontal")}),$(".ol2").click(function(){$(this).addClass("activebtn"),$("#body-nbox").addClass("product-horizontal"),$(".ol1").removeClass("activebtn")}),$(".btn-closenk").click(function(){$(".form-login").css("display","none"),$(".form-search-product").css("display","none"),$(".black-screen").css("display","none"),$("#container").removeClass("fixed-hbd"),$("#fixscreen-respon").css("display","none")}),$(".btn-login").click(function(){$(".form-login").css("display","block"),$(".black-screen").css("display","block"),$(".wp-content-login").css("display","block"),$(".wp-content-register").css("display","none"),$(".wp-content-forgetpw").css("display","none"),$(".titlek").removeClass("active-formkn"),$(".titlen").addClass("active-formkn"),$("#container").addClass("fixed-hbd"),$("body,html").stop().animate({scrollTop:0},0)}),$(".btn-login-res").click(function(){$("#head-body-respon").removeClass("slider"),$(".form-login").css("display","block"),$(".titlek").removeClass("active-formkn"),$(".titlen").addClass("active-formkn"),$("#container").addClass("fixed-hbd"),$(".wp-content-login").css("display","block"),$(".wp-content-register").css("display","none"),$(".wp-content-forgetpw").css("display","none"),$(".titlek").removeClass("active-formkn"),$(".black-screen").css("display","block"),$("#container").addClass("fixed-hbd"),$("#fixscreen-respon").css("display","none")}),$(".btn-register").click(function(){$(".form-login").css("display","block"),$(".black-screen").css("display","block"),$(".wp-content-login").css("display","none"),$(".wp-content-register").css("display","block"),$(".wp-content-forgetpw").css("display","none"),$(".titlen").removeClass("active-formkn"),$(".titlek").addClass("active-formkn"),$("#container").addClass("fixed-hbd")}),$(".btn-register-res").click(function(){$("#head-body-respon").removeClass("slider"),$(".form-login").css("display","block"),$(".wp-content-login").css("display","none"),$(".wp-content-register").css("display","block"),$(".wp-content-forgetpw").css("display","none"),$(".titlen").removeClass("active-formkn"),$(".titlek").addClass("active-formkn"),$(".black-screen").css("display","block"),$("#container").addClass("fixed-hbd"),$("#fixscreen-respon").css("display","none")}),$(".qpassword").click(function(){$(".form-login").css("display","block"),$(".black-screen").css("display","block"),$(".wp-content-forgetpw").css("display","block"),$(".wp-content-login").css("display","none"),$(".wp-content-register").css("display","none"),$("#container").addClass("fixed-hbd")}),$(".password .imgm").click(function(){$(this).toggleClass("open"),$(this).hasClass("open")?$(".password input").attr("type","text"):$(".password input").attr("type","password")}),$("#check-rules").click(function(){1==$(this).prop("checked")?$("#dang-ky #btn-register").prop("disabled",!1):0==$(this).prop("checked")&&$("#dang-ky #btn-register").prop("disabled",!0)}),$(".plus1, .minus1").on("click",function(e){var t=$(e.target).closest(".minus1").is(".minus1");const n=$(e.target).closest(".input-number").find("input");n.is("input")&&n[0][t?"stepDown":"stepUp"]()}),$(".order-noislogin").on("click",function(){alert("Vui lòng đăng nhập để mua hàng !")}),$(".iconmnrhv").click(function(){$(this).parents(".parentsmenu").children(".submenu1res").toggleClass("display-vis"),$(this).toggleClass("arrow-rotate")}),$("#btnmenu-resp").click(function(){$("#fixscreen-respon").css("display","block"),$("#head-body-respon").addClass("slider")}),$(".vissubmenu").click(function(){$(this).parents(".catparentc").children(".submenua1").toggleClass("display-vis"),$(this).toggleClass("arrow-rotate")});const t=document.getElementById("head-body-respon"),e=document.getElementById("fixscreen-respon"),n=document.getElementById("closem");n.addEventListener("click",()=>{$("#head-body-respon").removeClass("slider"),$("#fixscreen-respon").css("display","none")}),e.addEventListener("click",e=>{t.contains(e.target)||(n.click(),$(".form-login").css("display","none"))}),$(".catc1").hover(function(){var e=$(this);e.data("timeout",setTimeout(function(){$(".black-content").css("display","block"),$(".lc-mask-search").css({opacity:0,visibility:"hidden"}),$(".ls-history").css("display","none"),e.find(".content-submenu").css("display","block")},100))},function(){var e=$(this);clearTimeout(e.data("timeout")),$(".black-content").css("display","none"),e.find(".content-submenu").css("display","none")}),$(".icon_cart").hover(function(){$("#dropdown").addClass("opacity1_cartmini")},function(){$("#dropdown").removeClass("opacity1_cartmini")}),$("#reqexport").on("click",function(){1==$(this).prop("checked")?$(".hidden_noreqes").css("display","block"):0==$(this).prop("checked")&&$(".hidden_noreqes").css("display","none");$('input[type="radio"][name="dcshop"]:checked').val()}),$(".identity").on("click",function(){identity=$('input[type="radio"][name="identity"]:checked').val(),"Công ty"==identity?($(".company").css("display","block"),$(".person").css("display","none")):($(".company").css("display","none"),$(".person").css("display","block"))}),$(".local-re").on("click",function(){local_re=$('input[type="radio"][name="local-re"]:checked').val(),"Giao hàng tận nơi"==local_re?($(".de-home").css("display","block"),$(".de-store").css("display","none")):($(".de-home").css("display","none"),$(".de-store").css("display","block"))})}),jQuery.validator.addMethod("checkPhone",function(){var e,t=!1,n=$(".phonecart1").val().trim();return""!=(n=(n=(n=(n=n.replace("(+84)","0")).replace("+84","0")).replace("0084","0")).replace(/ /g,""))&&("09"!=(e=n.substring(0,2))&&"08"!=e&&"03"!=e&&"07"!=e||10!=n.length?"01"==e&&11==n.length&&n.match(/^\d{11}/)&&(t=!0):n.match(/^\d{10}/)&&(t=!0)),t}),jQuery.validator.addMethod("checkPhone1",function(){var e,t=!1,n=$(".phonecart2").val().trim();return""!=(n=(n=(n=(n=n.replace("(+84)","0")).replace("+84","0")).replace("0084","0")).replace(/ /g,""))&&("09"!=(e=n.substring(0,2))&&"08"!=e&&"03"!=e&&"07"!=e||10!=n.length?"01"==e&&11==n.length&&n.match(/^\d{11}/)&&(t=!0):n.match(/^\d{10}/)&&(t=!0)),t}),jQuery.validator.addMethod("checkPhone2",function(){var e,t=!1,n=$(".phonecart3").val().trim();return""!=(n=(n=(n=(n=n.replace("(+84)","0")).replace("+84","0")).replace("0084","0")).replace(/ /g,""))&&("09"!=(e=n.substring(0,2))&&"08"!=e&&"03"!=e&&"07"!=e||10!=n.length?"01"==e&&11==n.length&&n.match(/^\d{11}/)&&(t=!0):n.match(/^\d{10}/)&&(t=!0)),t}),jQuery.validator.addMethod("checknamecompany",function(){var e=$("#namecompany").val().trim();return local_re=$('input[type="radio"][name="identity"]:checked').val(),!document.getElementById("reqexport").checked||"Công ty"!=local_re||0<e.length}),jQuery.validator.addMethod("checkname1",function(){var e=$("#name1").val().trim();return local_re=$('input[type="radio"][name="identity"]:checked').val(),!document.getElementById("reqexport").checked||"Cá nhân"!=local_re||0<e.length}),jQuery.validator.addMethod("checkphone1",function(){var e=$("#phone1").val().trim();return local_re=$('input[type="radio"][name="identity"]:checked').val(),!document.getElementById("reqexport").checked||"Cá nhân"!=local_re||0<e.length}),jQuery.validator.addMethod("checkaddress1",function(){var e=$("#address1").val().trim();return local_re=$('input[type="radio"][name="identity"]:checked').val(),!document.getElementById("reqexport").checked||"Cá nhân"!=local_re||0<e.length}),jQuery.validator.addMethod("checkname2",function(){var e=$("#name2").val().trim();return local_re=$('input[type="radio"][name="local-re"]:checked').val(),"Giao hàng tận nơi"!=local_re||0<e.length}),jQuery.validator.addMethod("checkphone2",function(){var e=$("#phone2").val().trim();return local_re=$('input[type="radio"][name="local-re"]:checked').val(),"Giao hàng tận nơi"!=local_re||0<e.length}),jQuery.validator.addMethod("checkcity2",function(){var e=$("#city").find(":selected").val();return local_re=$('input[type="radio"][name="local-re"]:checked').val(),"Giao hàng tận nơi"!=local_re||0<e.length}),jQuery.validator.addMethod("checkdistrict2",function(){var e=$("#district2").find(":selected").val();return local_re=$('input[type="radio"][name="local-re"]:checked').val(),"Giao hàng tận nơi"!=local_re||0<e.length}),jQuery.validator.addMethod("checkwards2",function(){var e=$("#wards2").find(":selected").val();return local_re=$('input[type="radio"][name="local-re"]:checked').val(),"Giao hàng tận nơi"!=local_re||0<e.length}),jQuery.validator.addMethod("checkaddressdetail2",function(){var e=$("#addressdetail2").val().trim();return local_re=$('input[type="radio"][name="local-re"]:checked').val(),"Giao hàng tận nơi"!=local_re||0<e.length}),jQuery.validator.addMethod("checkcity3",function(){var e=$("#city3").val().trim();return local_re=$('input[type="radio"][name="local-re"]:checked').val(),"Nhận tại nhà thuốc"!=local_re||0<e.length}),jQuery.validator.addMethod("checkdistrict3",function(){var e=$("#district3").val().trim();return local_re=$('input[type="radio"][name="local-re"]:checked').val(),"Nhận tại nhà thuốc"!=local_re||0<e.length}),jQuery.validator.addMethod("checkdcshop",function(){var e=$('input[type="radio"][name="dcshop"]:checked').val();return local_re=$('input[type="radio"][name="local-re"]:checked').val(),"Nhận tại nhà thuốc"!=local_re||null!=e}),jQuery.validator.addMethod("checknumbershop",function(){var e=$(".count-store").val().trim();return local_re=$('input[type="radio"][name="local-re"]:checked').val(),"Nhận tại nhà thuốc"!=local_re||0<e}),jQuery.validator.addMethod("isProductSelect",function(){var e=!1;return numProductSelect=$(".ls-product-select-prescrip li").length,0<numProductSelect&&(e=!0),e}),$.validator.methods.checkEmail=function(e,t,n){return""==e.trim()||isEmail(e.trim())},$.validator.methods.checkPhone=function(e,t,n){return isPhoneNumberVN(e.trim())},$.validator.methods.checkPhoneOrEmail=function(e,t,n){return isEmail(e.trim())||isPhoneNumberVN(e.trim())},$.ajaxSetup({headers:{"X-CSRF-TOKEN":$('meta[name="csrf-token"]').attr("content")}}),$(document).ready(function(){function t(){$(".rotate-effect").css("visibility","visible").addClass("animate__animated animate__rotateIn"),$(".overlay").show()}function n(){$(".rotate-effect").removeClass("animate__animated animate__rotateIn").css("visibility","hidden"),$(".overlay").hide()}$("input[name='albumImage[]']").length&&(myUploadImage=$("input[name='albumImage[]']").uploadPreviewer({buttonText:"Thêm ảnh"})),0<$(".file-preview-table").length&&0==$(".file-preview-table").find("td").length&&$(".file-preview-table").css({"margin-top":"0px","margin-bottom":"0px"}),$(".cat1name").hover(function(){var e=$(this).attr("data-id"),t=$('input[name="_token"]').val(),n=$(this).attr("data-href");$.ajax({url:n,cache:!1,method:"GET",dataType:"html",data:{idCatLevel1:e,_token:t},success:function(e){$(".list_cat_level3_products").html(e),$(".sub-menu1>li").removeClass("active-menucat2"),$(".sub-menu1>li:first-child").addClass("active-menucat2")}})},function(){}),$(".sub-menu1>li").hover(function(){$(".sub-menu1>li").removeClass("active-menucat2"),$(this).addClass("active-menucat2");var e=$(this).attr("data-id"),t=$('input[name="_token"]').val(),n=$(this).attr("data-href");$.ajax({url:n,cache:!1,method:"GET",dataType:"html",data:{idCatLevel2:e,_token:t},success:function(e){$(".list_cat_level3_products").html(e)}})},function(){}),$(".select2").select2(),$(".user-register").validate({rules:{fullname:"required",email:{required:!0,checkPhoneOrEmail:!0},password:{required:!0,minlength:6}},messages:{fullname:"Bạn chưa nhập Họ tên",email:{required:"Nhập số điện thoại hoặc email",checkPhoneOrEmail:"Số điện thoại / Email không đúng định dạng"},password:{required:"Bạn cần nhập mật khẩu",minlength:"Mật khẩu tối thiểu 6 ký tự"}},errorPlacement:function(e,t){e.addClass("invalid-feedback"),t.closest(".input-group").addClass("has-error"),"checkbox"===t.prop("type")?e.insertAfter(t.next("label")):e.insertAfter(t.closest(".input-group"))},highlight:function(e,t,n){$(e).addClass("is-invalid").removeClass("is-valid")},unhighlight:function(e,t,n){$(e).addClass("is-valid").removeClass("is-invalid"),$(e).closest(".input-group").removeClass("has-error")},submitHandler:function(e){t(),$.ajax({url:e.action,method:e.method,data:$(e).serialize(),success:function(e){e.success?($(".loading-text").text("Đang đăng ký..."),alert("Đăng ký thành công!"),location.reload()):(n(),alert("Kiểm tra lại thông tin đã tồn tại, vui lòng thử lại"))}})}}),$(".user-login").validate({rules:{email:{required:!0,checkPhoneOrEmail:!0},password:{required:!0,minlength:6}},messages:{email:{required:"Nhập số điện thoại hoặc email",checkPhoneOrEmail:"Số điện thoại / Email không đúng định dạng"},password:{required:"Bạn cần nhập mật khẩu",minlength:"Mật khẩu tối thiểu 6 ký tự"}},errorPlacement:function(e,t){e.addClass("invalid-feedback"),t.closest(".input-group").addClass("has-error"),"checkbox"===t.prop("type")?e.insertAfter(t.next("label")):e.insertAfter(t.closest(".input-group"))},highlight:function(e,t,n){$(e).addClass("is-invalid").removeClass("is-valid")},unhighlight:function(e,t,n){$(e).addClass("is-valid").removeClass("is-invalid"),$(e).closest(".input-group").removeClass("has-error")},submitHandler:function(e){t(),$.ajax({url:e.action,method:e.method,data:$(e).serialize(),success:function(e){e.success?($(".loading-text").text("Đang đăng nhập..."),location.reload()):e.errors&&e.errors.authentication&&(n(),alert(e.errors.authentication))},error:function(e){n()}})}}),$(".order-complete").validate({ignore:".ignore",rules:{"buyer[fullname]":{required:!0},"buyer[phone]":{required:!0,checkPhone:!0},"receive[fullname]":{required:!0},"receive[phone]":{required:!0,checkPhone:!0},"receive[province_id]":{},"receive[district_id]":{},"receive[ward_id]":{},"receive[address]":{required:!0}},messages:{"buyer[fullname]":{required:"Thông tin bắt buộc"},"buyer[phone]":{required:"Thông tin bắt buộc",checkPhone:"Số điện thoại không đúng định dạng"},"buyer[email]":{checkEmail:"Email không đúng định dạng"},"invoice[name]":{required:"Thông tin bắt buộc"},"invoice[phone]":{required:"Thông tin bắt buộc",checkPhone:"Số điện thoại không đúng định dạng"},"invoice[tax_code]":{required:"Thông tin bắt buộc"},"invoice[address]":{required:"Thông tin bắt buộc"},warehouse_id:{required:"Thông tin bắt buộc"},"receive[fullname]":{required:"Thông tin bắt buộc"},"receive[phone]":{required:"Thông tin bắt buộc",checkPhone:"Số điện thoại không đúng định dạng"},"receive[province_id]":{required:"Thông tin bắt buộc"},"receive[district_id]":{required:"Thông tin bắt buộc"},"receive[ward_id]":{required:"Thông tin bắt buộc"},"receive[address]":{required:"Thông tin bắt buộc"}},errorPlacement:function(e,t){e.addClass("invalid-feedback"),t.closest(".wp-input").addClass("has-error"),e.insertAfter(t.closest(".wp-input"))},highlight:function(e,t,n){$(e).addClass("is-invalid").removeClass("is-valid")},unhighlight:function(e,t,n){$(e).addClass("is-valid").removeClass("is-invalid"),$(e).closest(".wp-input").removeClass("has-error")},submitHandler:function(e){$(".loading-text").text("Đang đặt hàng..."),t(),$.ajax({url:e.action,method:e.method,data:$(e).serialize(),success:function(e){!1===e.fail?window.location.href=e.redirect_url:(n(),alert("Kiểm tra lại thông tin, vui lòng thử lại"))},error:function(e){n()}})}}),$(".form-main-prescrip").validate({ignore:".ignore",rules:{"buyer[fullname]":{required:!0},"buyer[phone]":{required:!0,checkPhone:!0},number_product:{isProductSelect:!0},province_id:{required:!0},district_id:{required:!0},ward_id:{required:!0},address:{required:!0}},messages:{"buyer[fullname]":"Thông tin bắt buộc","buyer[phone]":{required:"Thông tin bắt buộc",checkPhone:"Số điện thoại không đúng định dạng"},number_product:{isProductSelect:"Vui lòng chọn thêm thuốc"},province_id:{required:"Thông tin bắt buộc"},district_id:{required:"Thông tin bắt buộc"},ward_id:{required:"Thông tin bắt buộc"},address:{required:"Thông tin bắt buộc"}},errorPlacement:function(e,t){e.addClass("invalid-feedback"),t.closest(".wp-input").addClass("has-error"),e.insertAfter(t.closest(".wp-input"))},highlight:function(e,t,n){$(e).addClass("is-invalid").removeClass("is-valid")},unhighlight:function(e,t,n){$(e).addClass("is-valid").removeClass("is-invalid"),$(e).closest(".wp-input").removeClass("has-error")}}),$(".form-search-phone-order").validate({ignore:".ignore",rules:{phone:{required:!0,checkPhone:!0}},messages:{phone:{required:"Nhập số điện thoại",checkPhone:"Số điện thoại không đúng định dạng"}},errorPlacement:function(e,t){e.addClass("invalid-feedback"),t.closest(".input-group").addClass("has-error"),"checkbox"===t.prop("type")?e.insertAfter(t.next("label")):e.insertAfter(t.closest(".input-group"))},highlight:function(e,t,n){$(e).addClass("is-invalid").removeClass("is-valid")},unhighlight:function(e,t,n){$(e).addClass("is-valid").removeClass("is-invalid"),$(e).closest(".input-group").removeClass("has-error")}}),$("#content-slider").lightSlider({loop:!0,keyPress:!0}),$("#image-gallery").lightSlider({gallery:!0,item:1,thumbItem:9,slideMargin:0,speed:500,auto:!0,loop:!0,onSliderLoad:function(){$("#image-gallery").removeClass("cS-hidden")}})}),$(document).on("submit","#main-form",function(e){e.preventDefault(),url=$(this).attr("action"),method=$(this).attr("method"),data=new FormData($(this)[0]),$.ajax({type:method,url:url,data:data,cache:!1,contentType:!1,processData:!1,success:function(e){if(0==e.success)if(null!=e.error)for(control in e.errors)eleError="<label id='"+control+"-error' class='error invalid-feedback' for='"+control+"' style='display:inline-block'>"+e.errors[control]+"</label>",$("[name="+control+"]").closest(".form-group").find("label[for='"+control+"']").remove(),$("[name="+control+"]").closest(".input-group").addClass("has-error").after(eleError),$("[name="+control+"]").addClass("is-invalid").removeClass("is-valid");else alert(e.message);else alert(e.message),window.location.replace(e.redirect_url)},error:function(e,t,n){alert("Error: "+n)}})}),$(document).on("click",".changeTypePassword",function(e){parent=$(this).parents(".form-group"),parent.toggleClass("open"),parent.hasClass("open")?(parent.find("input[name='password']").attr("type","text"),$(this).html("<i class='fa fa-eye-slash'></i>")):(parent.find("input[name='password']").attr("type","password"),$(this).html("<i class='fa fa-eye'></i>"))}),$(document).on("click",".cat-content .list-content-product li a",function(e){$(".cat-content .list-content-product li a").removeClass("active-ndsp"),$(this).addClass("active-ndsp")}),$(document).on("click",".btn-select-buy",function(e){1200<$(window).width()&&$("body,html").stop().animate({scrollTop:0},800);var t=$('input[name="_token"]').val(),n=$('input[name="qty_product"]').val(),a=$(".hrcart .number_cartmenu").text(),a=Number(a)+Number(n);$(".hrcart .number_cartmenu").text(a);var i=$("#product_id").val(),o=$("#user_sell").val(),a=$("#code_ref").val();url=$(this).data("href"),$.ajax({url:url,method:"POST",cache:!1,dataType:"html",data:{product_id:i,quantity:n,user_sell:o,codeRef:a,_token:t},success:function(e){$(".dropdown-cart-info").html(e),$(".wp-cart-res").html(e),$(".dropdown-cart").css({opacity:1,visibility:"visible"}),$(window).width()<1200&&visible_cart_respon(),setTimeout(function(){$(".dropdown-cart-info .dropdown-cart").removeAttr("style")},3e3)}})}),$(document).on("click",".close-cart",function(e){$(".dropdown_cart").css("opacity",0),$(".dropdown_cart").css("visibility","hidden"),$(".black-res-screen").css("display","none"),$(".fix1screen").css("display","none")}),$(document).on("change","select.get_child",function(e){if(e.preventDefault(),url=$(this).data("href"),target=$(this).data("target"),$selectValue=$(this).val(),""==$selectValue&&""!=url&&-1!==url.indexOf("value_new"))options=$(target).find("option")[0].outerHTML,$(target).html(options),$(target).trigger("change");else{url=url.replace("value_new",$selectValue);let e=$(this).data("addtion");void 0!==e&&(e=e.split("|"),e.forEach(function(e,t){elemValue=$("#"+e).val(),""!=elemValue&&(-1===url.indexOf("?")?url+="?filter_"+e+"="+elemValue:url+="&filter_"+e+"="+elemValue)})),$.get({url:url,cache:!1,dataType:"json",success:function(e){options="",0<$(target+" option").length&&(options=$(target).find("option")[0].outerHTML),$.each(e,function(e,t){options+="<option value= '"+e+"'>"+t+"</option>"}),$(target).html(options),$(target).hasClass("get_data")&&$(target).trigger("change"),$(target).hasClass("get_child")&&$(target).trigger("change")},error:function(e,t,n){alert("Error: "+n)}})}}),$(document).on("change","select.get_data",function(e){e.preventDefault();e=$(this).val();target=$(this).data("target");let t=$(this).data("href");t=t.replace("value_new",e);let n=$(this).data("addtion");void 0!==n&&(n=n.split("|"),n.forEach(function(e){elemValue=$("#"+e).val(),t+="&filter_"+e+"="+elemValue})),$.get({url:t,cache:!1,dataType:"html",success:function(e){$(target).html(e)},error:function(e,t,n){alert("Error: "+n)}})}),$(document).on("change","input.number-product",function(e){$value=$(this).val();var t=$('input[name="money_ship"]').val(),t=parseInt(t,10);url=$(this).data("href"),url&&(url=url.replace("value_new",$value),$current=$(this),$.post({url:url,headers:{"X-CSRF-TOKEN":$('meta[name="csrf-token"]').attr("content")},cache:!1,dataType:"json",success:function(e){$parent=$($current).parents(".item-product"),product_id=$parent.data("id"),$($parent).find(".price").html(e.product[product_id].price.toLocaleString("vi-VN")),$($parent).find(".money").html(e.product[product_id].total_money.toLocaleString("vi-VN")),0<$parent.parents(".dropdown-cart").length&&0<$(".info-product-cart").length?0<$(".info-product-cart").find(".item-product[data-id="+product_id+"]").length&&($(".info-product-cart").find(".total_product").html(e.total_product),product=$(".info-product-cart").find(".item-product[data-id="+product_id+"]"),$(product).find(".price").html(e.product[product_id].price.toLocaleString("vi-VN")),$(product).find(".number-product").val($value),$(product).find(".money").html(e.product[product_id].total_money.toLocaleString("vi-VN"))):$(".info-product-cart").find(".total_product").html(e.total_product),$seller=$(".dropdown-cart").find(".user-seller-"+e.user_sell),$product=$seller.find(".item-product-"+product_id),$old_qty=parseInt($product.find(".number-product").val()),$product.find(".number-product").val($value),$product.find(".money").html(e.product[product_id].total_money.toLocaleString("vi-VN")),$new_qty=parseInt($value),$total_product=parseInt($(".number_cartmenu").html()),$(".number_cartmenu").html($total_product-$old_qty+$new_qty),0<$("input[name=user_sell]").length&&$("input[name=user_sell]").val()==e.user_sell&&($(".col-right-cart").find(".total").html(e.total.toLocaleString("vi-VN")),$(".col-right-cart").find(".total_thanh_toan").html((e.total+t).toLocaleString("vi-VN")),$(".info-payment-ck").find(".total_thanh_toan").html((e.total+t).toLocaleString("vi-VN")))},error:function(e,t,n){alert("Error: "+n)}}))}),$(document).on("change","input[name='delivery_method']",function(e){e.preventDefault(),$value=$(this).val(),1==$value?($(".rowPharmacy").removeClass("d-none"),$(".rowHome").addClass("d-none"),$("input[name='receive[address]']").addClass("ignore"),$("select[name='receive[province_id]']").addClass("ignore"),$("select[name='receive[ward_id]']").addClass("ignore"),$("select[name='receive[district_id]']").addClass("ignore")):($(".rowPharmacy").addClass("d-none"),$(".rowHome").removeClass("d-none"),$("input[name='receive[address]']").removeClass("ignore"),$("select[name='receive[province_id]']").removeClass("ignore"),$("select[name='receive[ward_id]']").removeClass("ignore"),$("select[name='receive[district_id]']").removeClass("ignore"))}),$(document).on("change","input[name='payment']",function(e){e.preventDefault(),$value=$(this).val(),1==$value?$(".info-payment-ck").addClass("d-none"):$(".info-payment-ck").removeClass("d-none")}),$(document).on("change","#export_tax",function(e){e.preventDefault(),$value=$(this).val(),$(this).is(":checked")?($(".rowInovice").removeClass("d-none"),valueObject=$("input[name='invoice[object]']:checked").val(),1==valueObject?($("input[name='invoice[name]']").attr("placeholder","Nhập tên công ty"),$("input[name='invoice[phone]']").parents(".col-4").addClass("d-none"),$("input[name='invoice[tax_code]']").removeClass(".ignore"),$("input[name='invoice[phone]']").addClass(".ignore"),$("input[name='invoice[tax_code]']").parents(".col-4").removeClass("d-none")):($("input[name='invoice[tax_code]']").addClass(".ignore"),$("input[name='invoice[phone]']").removeClass(".ignore"),$("input[name='invoice[name]']").attr("placeholder","Nhập Họ tên"),$("input[name='invoice[tax_code]']").parents(".col-4").addClass("d-none"),$("input[name='invoice[phone]']").parents(".col-4").removeClass("d-none")),$("input[name='invoice[name]']").removeClass(".ignore"),$("input[name='invoice[address]']").removeClass(".ignore")):($("input[name='invoice[name]']").addClass(".ignore"),$("input[name='invoice[phone]']").addClass(".ignore"),$("input[name='invoice[tax_code]']").addClass(".ignore"),$("input[name='invoice[address]']").addClass(".ignore"),$(".rowInovice").addClass("d-none"))}),$(document).on("change","input[name='invoice[object]']",function(e){e.preventDefault(),$value=$(this).val(),1==$value?($("input[name='invoice[name]']").attr("placeholder","Nhập tên công ty"),$("input[name='invoice[phone]']").parents(".col-4").addClass("d-none"),$("input[name='invoice[tax_code]']").parents(".col-4").removeClass("d-none"),$("input[name='invoice[tax_code]']").removeClass(".ignore"),$("input[name='invoice[phone]']").addClass(".ignore")):($("input[name='invoice[name]']").attr("placeholder","Nhập Họ tên"),$("input[name='invoice[tax_code]']").parents(".col-4").addClass("d-none"),$("input[name='invoice[phone]']").parents(".col-4").removeClass("d-none"),$("input[name='invoice[tax_code]']").addClass(".ignore"),$("input[name='invoice[phone]']").removeClass(".ignore"))}),$(document).on("click",".view-btn-add-product",function(e){var t=parseInt($(this).attr("data-offset")),n=$(this).attr("data-href"),a=$('input[name="_token"]').val(),i=$(this).attr("data-type"),o=$(this).attr("data-object"),r=$(this).attr("data-orderby"),s=$(this).attr("data-idcat"),c=$(this);parseInt($(this).find(".visibility-number-product").text().trim())-20<1&&$(".view-btn-add-product").hide();var l=$(this).closest(".box-filter-advanced").find('input[name="list_trademark[]"]:checked'),d=[];l.each(function(){d.push($(this).val())});var l=$(this).closest(".box-filter-advanced").find('input[name="list_country[]"]:checked'),u=[];l.each(function(){u.push($(this).val())}),$.ajax({url:n,cache:!1,method:"GET",dataType:"html",data:{offset:t,type:i,object:o,orderBy:r,idCat:s,listTrademarkId:d,listCountryId:u,_token:a},success:function(e){c.find(".visibility-number-product").text(function(e,t){return Math.max(parseInt(t)-20,0)}),t+=20,c.attr("data-offset",t),c.closest(".parent-btn-view-add").find("ul.ls_product-view-add").append(e)}})}),$(document).on("click",".btnFilterProductInHome",function(e){$(".slect-item-customer").removeClass("active-slect"),$(this).addClass("active-slect");var t=$(this).attr("data-object")||null,n=($(this).attr("data-type"),$(this).closest("#product-by-object"));n.find(".view-btn-add-product").attr("data-object",t),n.find(".view-btn-add-product").attr("data-offset",10);var a=$(this).attr("data-href"),n=$('input[name="_token"]').val();$.ajax({url:a,cache:!1,method:"GET",dataType:"html",data:{object_product:t,_token:n},success:function(e){$("#product-by-object").html(e)}})}),$(document).on("click",".btnFilterProductInCat",function(e){$(".slect-item-customer").removeClass("active-slect"),$(this).addClass("active-slect");var t=$(this).closest("#wp-product-cat");t.find(".view-btn-add-product").attr("data-orderby",void 0),t.find(".view-btn-add-product").attr("data-offset",20);$(this).closest("#wp-product-cat");$(".btnFilterProductInCat").attr("data-orderby",void 0);var n=$(this).attr("data-orderby")||null,a=$(this).attr("data-type")||null,i=$(this).attr("data-idcat")||null,o=$(this).attr("data-href"),r=$('input[name="_token"]').val(),t=$(this).closest(".box-filter-advanced").find('input[name="list_trademark[]"]:checked'),s=[];t.each(function(){s.push($(this).val())});var t=$(this).closest(".box-filter-advanced").find('input[name="list_country[]"]:checked'),c=[];t.each(function(){c.push($(this).val())}),$("#modalFilter").modal("hide"),$.ajax({url:o,cache:!1,method:"GET",dataType:"html",data:{orderby_product:n,type:a,idCat:i,listTrademarkId:s,listCountryId:c,_token:r},success:function(e){$("#body-nbox").html(e)}})}),$(document).on("click",".select-status-order",function(e){var t=$(this).attr("data-status"),n=$(this).attr("data-href"),a=$(this).attr("data-phone"),i=$('input[name="_token"]').val();$.ajax({url:n,cache:!1,method:"GET",dataType:"html",data:{status:t,phone:a,_token:i},success:function(e){$(".table-order-frontend").html(e)}})}),$(document).on("click",".view-detail-order",function(e){$(".wp-detail-order").css("display","block"),$(".black-screen").css("display","block");var t=$(this).attr("data-id"),n=$(this).attr("data-href"),a=$('input[name="_token"]').val();$.ajax({url:n,cache:!1,method:"GET",dataType:"html",data:{id:t,_token:a},success:function(e){$(".wp-detail-order").html(e)}})}),$(document).on("click",".btn-closenk",function(e){$(".wp-detail-order").css("display","none"),$(".black-screen").css("display","none"),$(".titlek").removeClass("fixed-hbd")}),$(document).on("click","#btn-searchorder",function(e){0<$(".ls-product-select li").length&&(listProduct=$(".ls-product-select").html(),$(".ls-product-select-prescrip").html(listProduct),$(".ls-product-select-prescrip").css("display","block"),$(".form-search-product").css("display","none"),$(".black-screen").css("display","none"),$("#container").removeClass("fixed-hbd"),$("#fixscreen-respon").css("display","none"),$(".title-list-select").text("Tên thuốc đã nhập:"),user_sell=$("#name-store").val(),$('input[name="user_sell"]').val(user_sell))}),$(document).on("click",".plus",function(){qty=parseInt($(this).parents(".input-group").find(".number-product").val())+1,$(this).parents(".input-group").find(".number-product").val(qty),$(this).parents(".input-group").find(".number-product").change()}),$(document).on("click",".minus",function(){parseInt($(this).parents(".input-group").find(".number-product").val())<=1?qty=1:(qty=parseInt($(this).parents(".input-group").find(".number-product").val())-1,$(this).parents(".input-group").find(".number-product").val(qty),$(this).parents(".input-group").find(".number-product").change())}),$(document).on("input",".number-product",function(){var e=$(this).val();isNaN(e)||e<1?$(this).val(1):999<e&&$(this).val(999)}),$(document).on("click",".delele-item-in-cart",function(){url=$(this).data("href"),$.get({url:url,cache:!1,dataType:"html",success:function(e){window.location.reload()}})}),$(document).on("keyup",".search-product-keyup",function(e){var t,n,a,i=$(this).val();""==i||" "==i[0]?$(".ls-product-search").html("<div class='mb-3 rimg-center'><img src='images/shop/pescrip5.png'></div>"):(t=$(this).attr("data-href"),n=$('input[name="_token"]').val(),a=$("#name-store").val(),$.ajax({url:t,cache:!1,method:"GET",dataType:"html",data:{keyword:i,user_sell:a,_token:n},success:function(e){$(".ls-product-search").html(e)}}))}),$(document).on("click",".btn-add-item",function(e){$(".ls-product-select").css("display","block");var t=$(this).attr("data-id");rowCurrent=$(this).closest(".item-search"),rowCurrent.remove(),temp=$(".ls-product-select li").length+1,nameProduct=rowCurrent.find(".name-product").text(),$(".title-list-select").text("Tên thuốc đã nhập: "),itemSelect="<li class='item-select'><div class='d-flex'><div class='wp-10 text-center number_select'>"+temp+"</div><div class='wp-70 text-left'>"+nameProduct+"</div><div class='wp-20  text-center'><div class='btn'><input type='hidden'  name='info_product["+t+"]' value='"+nameProduct+"'><span class='btn-remove'>Xóa</span></div></div></div></li>",$(".ls-product-select").append(itemSelect)}),$(".addy-product").click(function(){var e=$("#form-search-product").offset().top;$("HTML, BODY").animate({scrollTop:e},200),$(".form-search-product").css("display","block"),$(".black-screen").css("display","block"),$("#container").addClass("fixed-hbd")}),$(document).on("click",".ls-product-select .btn-remove",function(e){1==$(".ls-product-select li").length&&($(".title-list-select").text(""),$(".ls-product-select").css("display","none")),numLast=$(".ls-product-select li").length,rowCurrent=$(this).closest(".item-select"),rowCurrent.remove(),indexCurent=rowCurrent.find(".number_select").text(),listItemSelect=document.querySelectorAll(".ls-product-select li.item-select");for(let e=0;e<listItemSelect.length;e++)listItemSelect[e].querySelector(".number_select").innerText=e+1}),$(document).on("click",".ls-product-select-prescrip .btn-remove",function(e){1==$(".ls-product-select-prescrip li").length&&($(".title-list-select").text(""),$(".ls-product-select-prescrip").css("display","none")),numLast=$(".ls-product-select-prescrip li").length,rowCurrent=$(this).closest(".item-select"),rowCurrent.remove(),indexCurent=rowCurrent.find(".number_select").text(),listItemSelect=document.querySelectorAll(".ls-product-select-prescrip li.item-select");for(let e=0;e<listItemSelect.length;e++)listItemSelect[e].querySelector(".number_select").innerText=e+1}),$(document).on("click","#pills-no-prescrip",function(e){$(".form-buy .title-list-select").text(""),$(".ls-product-select-prescrip").html(" "),$(".ls-product-select-prescrip").css("display","none"),$(".number_product").addClass("ignore"),$('input[name="is_prescrip"]').val("")}),$(document).on("click","#pills-yes-prescrip",function(e){numLast=$(".ls-product-select-prescrip li").length,$(".number_product").removeClass("ignore")}),$(document).on("change","#name-store",function(e){$(".wp-content-shorder .title-list-select").text(""),$(".ls-product-select").html(" "),$(".ls-product-select").css("display","none")}),$(document).on("input",".fc-search-js input",function(e){var n,a=$(this),i=a.val().trim();if(0<i.length&&" "===i[0]&&(i=i.substring(1)),""==i)return clearTimeout(typingTimer),$(".fa-spinner").hide(),(n=a.closest(".wp-search-list-product")).find(".list-product-short").html("<div class='px-4 py-2'><p>Bạn có thể tìm kiếm theo tên hoặc công dụng thuốc</p></div>"),n.find(".clear-keyword").hide(),void $(".wp-input-search-simple>input").val("");0<i.length&&$(".wp-input-search-simple>input").val(i),clearTimeout(typingTimer),clearTimeout(ajaxRequest),$(".fa-spinner").show(),(n=a.closest(".wp-search-list-product")).find(".clear-keyword").hide(),typingTimer=setTimeout(function(){var e=a.attr("data-href"),t=$('input[name="_token"]').val();ajaxRequest=setTimeout(function(){$.ajax({url:e,cache:!1,method:"GET",dataType:"html",data:{keyword:i,_token:t},success:function(e){n.find(".wp-list-product-short").html(e),$(".fa-spinner").hide(),n.find(".clear-keyword").show()},error:function(){$(".fa-spinner").hide(),n.find(".clear-keyword").show()}})},1e3)},250)}),$(document).on("click",".clear-keyword",function(){$(this).closest(".wp-search-list-product").find(".wp-input-search input").val("").focus(),$(this).hide()}),$(document).on("click",".form-search-scroll",function(e){var t=$("#form-search").offset().top;$("HTML, BODY").animate({scrollTop:t},500)}),$(document).on("click",".form-search-show-list",function(e){$(".lc-mask-search").css("opacity",1),$(".lc-mask-search").css("visibility","visible"),$(".ls-history").css("display","block")}),$(document).on("click",".search-header-mobi .wp-input-search-simple",function(e){$("#box-search-fixed").css("display","block");var t=$("#box-search-fixed .input-search-info")[0];t.focus(),"function"==typeof t.setSelectionRange?t.setSelectionRange(t.value.length,t.value.length):"function"==typeof t.createTextRange&&((t=t.createTextRange()).collapse(!1),t.select())}),$(document).on("click",".icon-back-search",function(e){$("#box-search-fixed").css("display","none"),$(".lc-mask-search").css("opacity",0),$(".lc-mask-search").css("visibility","hidden")}),$(document).on("click",".lc-mask-search",function(e){$(".lc-mask-search").css("opacity",0),$(".lc-mask-search").css("visibility","hidden"),$(".ls-history").css("display","none")}),$(document).on("click",".delete-history-keyword",function(e){var t=$(this).attr("data-href"),n=$('input[name="_token"]').val();$.ajax({url:t,cache:!1,method:"GET",dataType:"html",data:{_token:n},success:function(e){$(".data-history").html(e)}})}),$(document).on("click",".wp-search .wp-input-search-simple>input",function(e){$(".black-screen").css("display","block"),$(".wp-list-product-short").css("display","block"),$(".wp-search-menu form").css("z-index",504);var t=$("#wp-search").offset().top;$("HTML, BODY").animate({scrollTop:t},0)}),$(document).on("click",".black-screen",function(e){$(".black-screen").css("display","none"),$(".wp-list-product-short").css("display","none"),$(".wp-search-menu form").css("z-index",502)}),$(document).on("keyup",".wp-search .wp-input-search-simple>input",function(e){var t,n,a=$(this).val();""==a||" "==a[0]?($(".btn-search").attr("disabled","disabled"),$(".list-product-short").html("<div class='px-4 py-2'><p class='mb-3'>Bạn có thể tìm kiếm theo tên hoặc công dụng thuốc</p><img loading='lazy' decoding='async' alt='Tdoctor' src='../../images/shop/skeleton-product.png'></div>")):($(".btn-search").removeAttr("disabled"),t=$(this).attr("data-href"),n=$('input[name="_token"]').val(),$.ajax({url:t,cache:!1,method:"GET",dataType:"html",data:{keyword:a,_token:n},success:function(e){$(".wp-list-product-short").html(e)}}))}),$(document).on("click",".wp-link-affiliate .btn-copy-link",function(e){var t=$(this).siblings(".value-link"),n=$("<input>");$("body").append(n),n.val(t.text()).select(),document.execCommand("copy"),n.remove(),$(this).tooltip({title:"Đã copy!",trigger:"manual"}).tooltip("show"),setTimeout(function(){$(".wp-link-affiliate .btn-copy-link").tooltip("hide")},2e3)}),$(document).on("keyup",'input[name="buyer[phone]"]',function(e){var t=$(this).val();$(".phone-customer").text(t)});var tooltipTimeout,bannerQuangCao=$("#banner_doitac .banner_doitac");bannerQuangCao.owlCarousel({autoPlay:4500,navigation:!1,navigationText:!1,paginationNumbers:!1,pagination:!0,items:1,itemsDesktop:[1e3,1],itemsDesktopSmall:[900,1],itemsTablet:[600,1],itemsMobile:!0}),$(document).on("click",".mdlh .md",function(e){$(".md").removeClass("active"),$(this).addClass("active"),$(".content-detail-product").toggleClass("fs-big")}),$(document).on("click",".no-login",function(e){alert("Vui lòng đăng nhập để gửi bình luận!")}),$(document).on("click",".submit-comment",function(e){$("#replyModal").modal("hide"),$(".modal-backdrop").remove(),$("#ratingModal").modal("hide");var t=$(this).closest(".content-quest").find('textarea[name="content"]').val(),n=void 0!==$(this).attr("data-rating")?$(this).attr("data-rating"):null;t.trim();if(!n&&0===t.trim().length)return void alert("Vui lòng nhập nội dung bình luận!");var a=$(this).attr("data-url"),i=$(this).attr("data-product"),o=$(this).attr("data-shop"),r=$(this).attr("data-user"),s=$(this).attr("data-parentid"),c=$('input[name="_token"]').val();$.ajax({url:a,cache:!1,method:"GET",dataType:"html",data:{_token:c,userId:r,productId:i,shopId:o,content:t,parentid:s,rating:n},success:function(e){(n&&null!==n?$(".content-rating-product"):$(".content-comment-product")).html(e)}})}),$(".mess_free").tooltip({trigger:"manual",delay:{show:500,hide:0}}),$(".mess_free").on({mouseenter:function(){clearTimeout(tooltipTimeout),$(this).tooltip("show")},mouseleave:function(){tooltipTimeout=setTimeout(function(){$(".mess_free").tooltip("hide")},1e4)},click:function(){clearTimeout(tooltipTimeout),$(".mess_free").tooltip("show")}}),$(document).on("click",".repply-comment",function(e){var t=$(this).data("commenter-name"),n=$(this).data("comment-id");$("#replyModal").modal("show").on("shown.bs.modal",function(){$("#replyModalLabel").text("Trả lời cho "+t),$("#replyModal .submit-comment").attr("data-parentid",n),$('#replyModal textarea[name="content"]')[0].focus()})}),$(document).on("click","#starRating .star-big",function(e){var t=$(this).data("rating");$(this).closest(".rating").find(".star").each(function(e){e<t?$(this).addClass("active"):$(this).removeClass("active")}),$(this).closest(".modal-body").find(".submit-comment").attr("data-rating",t)}),$(document).on("mouseover","#starRating .star-big",function(e){var t=$(this).data("rating");$(this).closest(".rating").find(".star").each(function(e){e<t?$(this).addClass("active"):$(this).removeClass("active")}),$(this).closest(".modal-body").find(".submit-comment").attr("data-rating",t)}),$(".list-check-items").each(function(){var t=$(this).find(".check-all"),n=$(this).find(".sub-checkbox");t.change(function(){n.prop("checked",!1)}),n.change(function(){var e;$(this).prop("checked")?(e=!0,n.each(function(){if(!$(this).prop("checked"))return e=!1}),t.prop("checked",e)):t.prop("checked",!1)})});